# -*- coding: utf-8 -*-
# Generated by Django 1.11.13 on 2018-06-08 15:01
from __future__ import unicode_literals

from django.db import migrations

def set_ever_public(state, *args, **kwargs):
    state.get_model('osf', 'preprintservice').objects.filter(is_published=True).update(ever_public=True)

def revert_to_default(state, *args, **kwargs):
    state.get_model('osf', 'preprintservice').objects.all().update(ever_public=False)

class Migration(migrations.Migration):

    dependencies = [
        ('osf', '0109_merge_20180611_1410'),
    ]

    operations = [
        migrations.RunPython(
            set_ever_public, revert_to_default
        ),
    ]
